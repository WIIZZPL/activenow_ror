<%= tag.div(flash[:alert], style: "color:red") if flash[:alert] %>
<%= tag.div(flash[:notice], style: "color:green") if flash[:notice] %>

<% content_for :title, "Edit exam" %>

<div>
  <div>
    <%= link_to "Back to exams", exams_path %>
  </div>

  <h1>New exam</h1>

  <%= form_with model: @exam do |form| %>
    <% if @exam.errors.any? %>
    <div id="error_explanation" style="color: red;">
      <h2><%= pluralize(@exam.errors.count, "error") %> prevented this exam from being saved:</h2>
      <ul>
        <% @exam.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

    <div class='field'>Course:</div>
    <div class='field'><%= form.collection_select :course_id, @courses, :id, :display_name, prompt: "Select course", required: true%></div>
    <div class='field'>Title:</div>
    <div class='field'><%= form.text_field :title, placeholder: "Exam title", required: true %></div>
    <div class='field'>Date:</div>
    <div class='field'><%= form.date_field :date, min: Date.today, required: true %></div>
    <div class='actions'><%= form.submit "Add mark" %></div>
  <% end %>
</div>